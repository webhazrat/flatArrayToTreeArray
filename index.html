<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    


    <script>

        var array = [
            { "id": 1, "title": "Commercial", "description": "", "published": true, "hierarchyPath": "-1-", "parentId": -1, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 2, "title": "Household", "description": "", "published": true, "hierarchyPath": "-2-", "parentId": -1, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 3, "title": "Civil", "description": "", "published": true, "hierarchyPath": "-1--3-", "parentId": 1, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 4, "title": "Electrical", "description": "", "published": true, "hierarchyPath": "-1--4-", "parentId": 1, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 5, "title": "Mechanical", "description": "", "published": true, "hierarchyPath": "-1--5-", "parentId": 1, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 6, "title": "Appliance Repair", "description": "", "published": true, "hierarchyPath": "-2--6-", "parentId": 2, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 7, "title": "Car Care Services", "description": "", "published": true, "hierarchyPath": "-2--7-", "parentId": 2, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 8, "title": "AC Repair Services", "description": "", "published": true, "hierarchyPath": "-2--6--8-", "parentId": 6, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 9, "title": "TV Repair Services ", "description": "", "published": true, "hierarchyPath": "-2--6--9-", "parentId": 6, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 10, "title": "AC Repair 2", "description": "", "published": true, "hierarchyPath": "-2--6--8--10-", "parentId": 8, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 11, "title": "AC Repair 2.1", "description": "", "published": true, "hierarchyPath": "-2--6--8--10--11-", "parentId": 10, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 12, "title": "Civil1", "description": "", "published": true, "hierarchyPath": "-1--3--12-", "parentId": 3, "serviceLayer": true, "end": false, "status": 0, "faq": "[]" },
            { "id": 13, "title": "Civil1.1", "description": "", "published": true, "hierarchyPath": "-1--3--12--13-", "parentId": 12, "serviceLayer": false, "end": false, "status": 0, "faq": "[]" },
            { "id": 14, "title": "Civil1.1.1", "description": "", "published": true, "hierarchyPath": "-1--3--12--13--14-", "parentId": 13, "serviceLayer": false, "end": true, "price": 500, "status": 0, "faq": "[]" },
            { "id": 15, "title": "Civil1.1.2", "description": "", "published": true, "hierarchyPath": "-1--3--12--13--14--15-", "parentId": 13, "serviceLayer": false, "end": true, "price": 800, "status": 0, "faq": "[]" }
        ]

        var arraylist = [];

        function treedatalist(data) {
            if (data.length === 0) {
                return;
            }
            for (var i = 0; len = data.length, i < len; i++) {
                if (data[i]["parentId"] == -1) {
                    data[i]["children"] = [];
                    arraylist.push(data[i]);
                }
            }
            return treedatalistdg(data, arraylist);
        }

        function treedatalistdg(data, arraylist) {
            if (arraylist.length === 0) {
                return;
            }
            var j = 0;
            for (j; j < arraylist.length; j++) {
                for (var i = 0; i < data.length; i++) {
                    if (data[i]["parentId"] == arraylist[j]["id"]) {
                        data[i]["children"] = [];
                        arraylist[j]["children"].push(data[i]);
                    }
                }
                if (arraylist[j]["children"].length > 0) {
                    treedatalistdg(data, arraylist[j]["children"]);
                }
            }
        }
        treedatalist(array);
        
        document.write(JSON.stringify(arraylist));

        console.log(arraylist);
    </script>

</body>

</html>